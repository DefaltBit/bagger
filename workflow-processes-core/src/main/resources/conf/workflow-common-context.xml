<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
           http://www.springframework.org/schema/context
           http://www.springframework.org/schema/context/spring-context-2.5.xsd">

	<import resource="classpath:conf/workflow-core-config-context.xml" />

	<bean id="abstractJbpmSessionFactory" abstract="true" class="gov.loc.repository.workflow.jbpm.spring.LocalSessionFactoryBean">
		<property name="configLocations">
			<list>
				<value>classpath:conf/jbpm.hibernate.cfg.xml</value>
			</list>
		</property>
		<property name="jbpmConfiguration" value="classpath:conf/jbpm.cfg.xml"/>
		<!-- Still needs a datasource and hibernate properties (hibernate.dialect, hibernate.cache.provider_class) -->
	</bean>	
		
	<bean id="jbpmTransactionManager" class="org.springframework.orm.hibernate3.HibernateTransactionManager">
		<property name="sessionFactory" ref="jbpmSessionFactory" />
		
	</bean>

	<bean id="jbpmConfiguration" class="gov.loc.repository.workflow.jbpm.spring.LocalJbpmConfigurationFactoryBean">
    	<property name="sessionFactory" ref="jbpmSessionFactory"/>    	
	</bean>

</beans>