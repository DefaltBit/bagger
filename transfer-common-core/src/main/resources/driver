#! /bin/bash

MAXMEM=512m

# DO NOT EDIT BELOW THIS LINE
if [ "$JAVA_HOME" = "" ] ; then
  echo "ERROR: JAVA_HOME not found in your environment."
  echo
  echo "Please, set the JAVA_HOME variable in your environment to match the"
  echo "location of the Java Virtual Machine you want to use."
  exit 1
fi

PRG=$0

# need this for relative symlinks
while [ -h "$PRG" ] ; do
    ls=`ls -ld "$PRG"`
    link=`expr "$ls" : '.*-> \(.*\)$'`
    if expr "$link" : '/.*' > /dev/null; then
      PRG="$link"
    else
      PRG="`dirname "$PRG"`/$link"
    fi
done

APP_HOME=`dirname $PRG`/..

# make it fully qualified
APP_HOME=`cd $APP_HOME && pwd`

# Needed since Java logging points to "../logs"
cd $APP_HOME/bin

APP_NAME=`basename $PRG`

$JAVA_HOME/bin/java -Xmx$MAXMEM -classpath $APP_HOME/lib/classworlds-1.1.jar -Dclassworlds.conf=$APP_HOME/bin/$APP_NAME.classworlds.conf -Dapp.home=$APP_HOME org.codehaus.classworlds.Launcher "$@"
