<div id="tasks">
    <ul id="localNav">
        <li><a href="#userTasks"            ><span> My Tasks ( $userTaskInstanceBeanList.size() ) </span></a></li>
        <li><a href="#groupTasks"           ><span> Unassigned Tasks ( $groupTaskInstanceBeanList.size() )  </span></a></li>
        <li><a href="#workflows"            ><span> Workflows  ( $processDefinitionBeanList.size() )  </span></a></li>
        <li><a href="#suspendedProcessInstances">
            <span> Suspended Workflows  ( $suspendedProcessInstanceBeanList.size() )  </span>
        </a></li>
        <li><a href="#localHelp"            ><span> Help                  </span></a></li>
    </ul>
	<div id="userTasks">
		<h2>My Tasks</h2>
        <fieldset>
            <legend>These pending tasks still require completion.</legend>
            #if( $userTaskInstanceBeanList.size() > 10 )
		    <table>
		        <tbody><tr><td>
                    <form id="userTasks_pager" class="pager">
                		<img src="${contextPath}/images/icons/first.png" class="first"/>
                		<img src="${contextPath}/images/icons/prev.png" class="prev"/>
                		<label for="myTasks_pagedisplay">Showing page </label>
                		<input id="myTasks_pagedisplay" type="text" class="pagedisplay"/>
                		<img src="${contextPath}/images/icons/next.png" class="next"/>
                		<img src="${contextPath}/images/icons/last.png" class="last"/>
                		<label for="myTasks_pagesize">Results per page: </label>
                		<select id="myTasks_pagesize" class="pagesize">
                			<option selected="selected"  value="10">10</option>
                			<option value="20">20</option>
                			<option value="30">30</option>
                			<option  value="40">40</option>
                		</select>
                    </form>
                </td></tr></tbody>
            </table>
            #end
	        <table id="userTasks_table" class="tablesorter pageable"  >
	            <thead>
	                <tr id="taskDetailsHeader">
                        <th>Name</th>
                        <th>Package</th>
                        <th>Create date</th>
                    </tr>
                </thead>
                <tfoot><tr id="taskDetailsFooter">
                        <th>Name</th>
                        <th>Package</th>
                        <th>Create date</th>
                </tr></tfoot>
                <tbody>
			        #foreach($taskInstanceBean in $userTaskInstanceBeanList)
			        <tr id="task${taskInstanceBean.id}" >
				        <td><a href="./taskinstance/${taskInstanceBean.id}.html">
				            ${taskInstanceBean.taskBean.name} ($taskInstanceBean.id)
				        </a></td>
				        <td>
				            #set($packageName = "none")
				            #set($packageName = $taskInstanceBean.processInstanceBean.packageName)
				            $packageName
				        </td>
				        <td>
				            ${date.format('yyyy-MM-dd hh:mm', $taskInstanceBean.createDate)}
				        </td>				        
				    </tr>					
			        #end
			    </tbody>
		    </table>
		</fieldset>
		
	</div>
    <div id="groupTasks">
		<h2>Unassigned Tasks</h2>
		<fieldset>
            <legend>These unassigned tasks are available for anyone to complete.</legend>
            #if( $groupTaskInstanceBeanList.size() > 10)
		    <table>
		        <tbody><tr><td>
                    <form id="unassignedTasks_pager" class="pager">
                		<img src="${contextPath}/images/icons/first.png" class="first"/>
                		<img src="${contextPath}/images/icons/prev.png" class="prev"/>
                		<label for="unassignedTasks_pagedisplay">Showing page </label>
                		<input id="unassignedTasks_pagedisplay" type="text" class="pagedisplay"/>
                		<img src="${contextPath}/images/icons/next.png" class="next"/>
                		<img src="${contextPath}/images/icons/last.png" class="last"/>
                		<label for="unassignedTasks_pagesize">Results per page: </label>
                		<select id="unassignedTasks_pagesize" class="pagesize">
                			<option selected="selected"  value="10">10</option>
                			<option value="20">20</option>
                			<option value="30">30</option>
                			<option  value="40">40</option>
                		</select>
                    </form>
                </td></tr></tbody>
            </table>
            #end
	        <table id="groupTasks_table" class="tablesorter pageable"  >
	            <thead>
	                <tr >
                        <th>Name</th>
                        <th>Package</th>
                        <th>Create Date</th>
                        <th>Accept This Task</th>
                    </tr>
                </thead>
                <tfoot><tr >
                        <th>Name</th>
                        <th>Package</th>
                        <th>Create Date</th>
                        <th>Accept This Task</th>
                </tr></tfoot>
                <tbody>
                    #foreach($taskInstanceBean in $groupTaskInstanceBeanList)
			        <tr id="task${taskInstanceBean.id}" >
				        <td><a href="./taskinstance/${taskInstanceBean.id}.html">
				            ${taskInstanceBean.taskBean.name} ($taskInstanceBean.id)
				        </a></td>
				        <td>
				            #set($packageName = "none")
				            #set($packageName = $taskInstanceBean.processInstanceBean.packageName)
				            $packageName
				        </td>
				        <td>
				            ${date.format('yyyy-MM-dd hh:mm', $taskInstanceBean.createDate)}
				        </td>
				        <td>
				            <form method="post" action="./taskinstance/${taskInstanceBean.id}?method=put">
                					<input type="hidden" name="user" value="$currentUser" />
                					<input type="submit"  class="button" value="Assign To Me"/>
                			</form>	
				        </td>				        
				    </tr>					
			        #end
			    </tbody>
		    </table>
		</fieldset>
	</div>
	<div id="workflows">
		<h2>Workflows</h2>
			#foreach($processDefinitionBean in $processDefinitionBeanList)
				#set ($code = "processdefinitions.${processDefinitionBean.id}")
			<li>
				<form method="post" action="./processdefinition/${processDefinitionBean.id}.html">
                    <fieldset title="Start a New Workflow">
			            <legend>#springMessage($code) (${processDefinitionBean.id})</legend>
			            <input type="hidden" name="referer" value="/index.html" />
    					<input type="submit" class="button" value="start"/>
    					<label>Creating a new Workflow allows tracking a new transfer process.</label>
				    </fieldset>					
    			</form>						
			</li>					
			#end
		</ul>
	</div>
	
	<div id="suspendedProcessInstances">
		<h2>Suspended Workflows</h2>
		<fieldset>
            <legend>These unassigned tasks are available for anyone to pickup.</legend>
            #if( $suspendedProcessInstanceBeanList.size() > 10)
            <table>
		        <tbody><tr><td>
                    <form id="suspendedProcessInstances_pager" class="pager">
                		<img src="${contextPath}/images/icons/first.png" class="first"/>
                		<img src="${contextPath}/images/icons/prev.png" class="prev"/>
                		<label for="suspendedProcessInstances_pagedisplay">Showing page </label>
                		<input id="suspendedProcessInstances_pagedisplay" type="text" class="pagedisplay"/>
                		<img src="${contextPath}/images/icons/next.png" class="next"/>
                		<img src="${contextPath}/images/icons/last.png" class="last"/>
                		<label for="suspendedProcessInstances_pagesize">Results per page: </label>
                		<select id="suspendedProcessInstances_pagesize" class="pagesize">
                			<option selected="selected"  value="10">10</option>
                			<option value="20">20</option>
                			<option value="30">30</option>
                			<option  value="40">40</option>
                		</select>
                    </form>
                </td></tr></tbody>
            </table>
            #end
		    <table id="suspendedProcessInstances_table" class="tablesorter pageable"  >
	            <thead>
	                <tr>
                        <th>Name</th>
                        <th>Package</th>
                    </tr>
                </thead>
                <tfoot><tr>
                        <th>Name</th>
                        <th>Package</th>
                </tr></tfoot>
                <tbody>
		    	#foreach($processInstanceBean in $suspendedProcessInstanceBeanList)
		    	    <tr>
    				    <td> $packageName </td>
        				<td>
        		            #set ($code = "processdefinitions.${processInstanceBean.processDefinitionBean.id}")
        		            #set($packageName = "none")
        		            #set($packageName = $processInstanceBean.packageName)
        		            <a href="./processinstance/${processInstanceBean.id}.html">
        		                #springMessage($code) (${processInstanceBean.id})
        		            </a>				
        				</td>	
    				</tr>
    			#end	
                </tbody>
            </table>
        </fieldset>
	</div>
		
	<div id="localHelp">
        <h1>Help        </h1>
        <p>TODO: Explain each of the following...</p>
	    <ul id="helpTopics">
	        <li class="selected">
	            <h2>User Tasks  </h2>
	            <p> TODO: User Tasks are task that have been assigned to you or
                     you have accepted from available group tasks...</p>
		    </li>
            <li>
	            <h2>Group Tasks  </h2>
	            <p> TODO: Group Tasks are task that are available to you by
		             virtue of your group membership...</p>
		    </li>
            <li>
	            <h2>Process Instances  </h2>
	            <p> TODO: A Process Instance is a ...</p>
		    </li>
            <li>
	            <h2>More Help  </h2>
	            <p> TODO: If you need more help, you can...</p>
	            <p> TODO: For additional support please contact...</p>
		    </li>
        </ul>
    </div>
    
</div>